python-LDA
===
## python-LDA
lda模型的python实现，算法采用sampling抽样

- 项目基于python2.7.10如果发现计算概率为0，可能是python的兼容性问题，暂时没时间修复（发现python3.0以上版本会出现此问题）

## 使用方法
模型训练文件

`zzz_math_todo_part` 是数学应用题的原题，可将每道题看成一篇独立的文章。

    一个数，最高位千位上是10以内的最大质数，十位上是最小的合数，其他数位上的数都是0，这个数是 \__．
    把「\frac{1}{7}」化成小数后，小数点后第13位上的数字是 \__．
    镇海雅乐学校二年级的小朋友到一条小路的一边植树．小朋友们每隔2米种一棵树（马路两头都种了树），最后发现一共种了11棵，这条小路长 \__米．
    黄色卡片6张，红色卡片4张，蓝色卡片5张放在袋子里，至少要摸出4张，就可以保证摸出两张颜色相同的卡片． \__．
    两端都在圆上的线段中， \__最长，用字母__表示．
    某校参加军训队列表演比赛，组织一个方阵队伍．如果每班60人，这个方阵最多要有4个班的同学参加，如果每班70人，这个方阵至少要有3个班的同学参加．那么组成这个方阵的人数应为 \__人．
    「\frac{1}{2}」与「\frac{2}{3}」的和除以「\frac{5}{18}」，商是多少？
    分母是13的最简真分数有 \__个，它们的和是__．
    一条直线若同时平行于两个相交平面，那么这条直线与这两个平面的交线的位置关系是 \__．
    钢铁厂有一块棱长是6分米的正方体钢坯，现在要把它熔铸成一个横截面为边长2厘米正方形的长方体方钢，这个方钢的长是多少分米？

### 数据预处理
运行./preprocess/preprocess.py文件，模型将利用结巴分词工具(具体分词方法可见本人另一篇[文章](https://huiyang865.github.io/2016/10/12/jieba/))预处理源数据，使之成为本模型的LDA算法的输入数据。

### LDA聚类分析
`train.dat` 是数据预处理结果，显示格式如下：（一行表示一篇文档）

    质数 数是 合数 千位 数位 十位 以内 最小 最高 最大 其他 这个 一个
    位上 小数点 小数 化成 数字
    小朋友 小路 米种 雅乐 植树 二年级 镇海 一棵树 马路 每隔 两头 一共 学校 一边 一条 最后 发现
    卡片 袋子 两张 蓝色 黄色 红色 颜色 相同 放在 至少 保证 可以
    线段 字母 两端 最长 表示
    方阵 个班 每班 参加 同学 某校 最多要 这个 军训 队列 应为 如果 表演 比赛 队伍 人数 至少 组成 组织 那么 一个
    商是 除以 多少
    真分数 最简 分母 它们
    直线 平面 交线 相交 两个 平行 位置 一条 关系 那么 同时
    方钢 分米 正方体 长方体 棱长 横截面 熔铸 钢坯 边长 正方形 钢铁厂 厘米 一块 多少 现在 这个 一个

#### 模型输出文件
    `model_parameter.dat` 保存模型训练时选择的参数
    `wordidmap.dat` 保存词与id的对应关系，主要用作topN时查询
    `model_twords.dat` 输出每个类高频词topN个
    `model_tassgin.dat` 输出文章中每个词分派的结果，文本格式为词id:类id
    `model_theta.dat` 输出文章与类的分布概率，文本一行表示一篇文章，概率1   概率2 ...表示文章属于类的概率
    `model_phi.dat` 输出词与类的分布概率，是一个K*M的矩阵，其中K为设置分类的个数，M为所有文章的词的总数

#### 使用说明
- 模型需要人为设定算法迭代次数和主题数量，详细文档设定方式请查看setting.conf
- cd 到lda.py所在目录，执行命令:python lda.py